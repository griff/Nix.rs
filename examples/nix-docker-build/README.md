# Toy nixbuild.net

This directory contains a small toy version of nixbuild.net.

It is a split store where NAR files are stored in a local file store and
building is done in an isolated Docker container with no network and
`/nix/store` stored on a tmpfs.

The directory `ssh` contains configuration for running a version of
SSH on port 2322 that demonstrates this toy.
This folder also contains a Docker Build file for making a small
Docker image with the static build of Nix that is then used to do the
actual building.

To run the SSH server simply call `./ssh/run-ssh.sh` and it will
customize the SSH config, build the project with cargo, build
the docker image and finally run SSHD.

To configure a SSH client to access this store look at the file
`ssh/resolved/ssh_config` generated by the `run-ssh.sh` script.
